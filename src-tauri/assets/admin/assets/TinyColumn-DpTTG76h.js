import{r as a,j as r,S as h}from"./index-Ba8_Z7I5.js";import{u as f,h as x,k as v}from"./Page-zRx-fbuc.js";import"./index-d9iZx7WN.js";import"./index-DzTVI9Lo.js";import"./index-C2BeiomC.js";const C=({config:e},u)=>{var p;const[d,i]=a.useState([]),[m,o]=a.useState(!0),[c,n]=a.useState(!0),y=f(t=>t.page.pageData.variableData);a.useEffect(()=>{l({})},[e.api,((p=e.api)==null?void 0:p.sourceType)=="variable"?y:""]);const l=t=>{o(!0),x(e.api,t).then(s=>{(s==null?void 0:s.code)===0&&(Array.isArray(s.data)?i(s.data):(console.error("[TinyColumn]","data数据格式错误，请检查"),i([]))),o(!1)})};return a.useImperativeHandle(u,()=>({show(){n(!0)},hide(){n(!1)},update:t=>{l(t)}})),c&&r.jsx("div",{style:e.style,children:r.jsx(h,{spinning:m,size:"large",wrapperClassName:"spin-loading",children:r.jsx(v,{...e.props,data:d})})})},T=a.forwardRef(C);export{T as default};
