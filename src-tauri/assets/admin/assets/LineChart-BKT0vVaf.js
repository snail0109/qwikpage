import{r as e,j as s,S as x}from"./index-Ba8_Z7I5.js";import{u as L,h as v,L as S}from"./Page-zRx-fbuc.js";import"./index-d9iZx7WN.js";import"./index-DzTVI9Lo.js";import"./index-C2BeiomC.js";const b=({config:a},d)=>{var n;const[u,i]=e.useState([]),[h,o]=e.useState(!0),[c,p]=e.useState(!0),m=L(t=>t.page.pageData.variableData);e.useEffect(()=>{l({})},[a.api,((n=a.api)==null?void 0:n.sourceType)=="variable"?m:""]);const l=t=>{o(!0),v(a.api,t).then(r=>{(r==null?void 0:r.code)===0&&(Array.isArray(r.data)?i(r.data):(i([]),console.error("[LineChart]数据格式错误"))),o(!1)})};return e.useImperativeHandle(d,()=>({show(){p(!0)},hide(){p(!1)},update:t=>{l(t)}})),c&&s.jsx("div",{style:a.style,children:s.jsx(x,{spinning:h,size:"large",wrapperClassName:"spin-loading",children:s.jsx(S,{...a.props,color:a.props.seriesField?a.props.color:a.props.color[0],data:u})})})},w=e.forwardRef(b);export{w as default};
