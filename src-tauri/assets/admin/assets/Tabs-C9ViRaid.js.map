{"version":3,"file":"Tabs-C9ViRaid.js","sources":["../../../packages/materials/Functional/Tabs/Tabs.tsx"],"sourcesContent":["import React, { forwardRef, useImperativeHandle, useState } from 'react';\nimport { Tabs } from 'antd';\nimport type { TabsProps } from 'antd';\nimport * as icons from '@ant-design/icons';\nimport { usePageStore } from '@materials/stores/pageStore';\nimport { ComponentType } from '@materials/types';\nimport MarsRender from '@materials/MarsRender/MarsRender';\n/**\n *\n * @param props 组件本身属性\n * @param style 组件样式\n * @returns\n */\nconst MTabs = ({ config, elements, onTabClick, onChange }: ComponentType<TabsProps>, ref: any) => {\n  const [visible, setVisible] = useState(true);\n\n  const { elementsMap } = usePageStore((state) => {\n    return {\n      elementsMap: state.page.pageData.elementsMap,\n    };\n  });\n\n  // 对外暴露方法\n  useImperativeHandle(ref, () => {\n    return {\n      show() {\n        setVisible(true);\n      },\n      hide() {\n        setVisible(false);\n      },\n    };\n  });\n\n  // 执行Tab切换事件\n  const handleChange = (key: string) => {\n    onChange?.({ activeKey: key });\n  };\n\n  // 执行Tab点击事件\n  const handleTabClick = (key: string) => {\n    onTabClick?.({ activeKey: key });\n  };\n  const { items = [], ...props } = config.props;\n  const iconsList: { [key: string]: any } = icons;\n  const list = items.map((item, index) => {\n    if (!elements[index])\n      return {\n        label: item.label,\n        key: item.key,\n      };\n    const prop = elementsMap[elements[index]?.id].config.props;\n    return {\n      key: item.key,\n      ...prop,\n      icon: prop.icon ? React.createElement(iconsList[prop.icon]) : null,\n      children: <MarsRender elements={[elements[index]]} />,\n    };\n  });\n  return visible && <Tabs style={config.style} {...props} items={list} onChange={handleChange} onTabClick={handleTabClick}></Tabs>;\n};\nexport default forwardRef(MTabs);\n"],"names":["MTabs","config","elements","onTabClick","onChange","ref","visible","setVisible","useState","elementsMap","usePageStore","state","useImperativeHandle","handleChange","key","handleTabClick","items","props","iconsList","icons","list","item","index","prop","_a","React","MarsRender","jsx","Tabs","forwardRef"],"mappings":"mTAaA,MAAMA,EAAQ,CAAC,CAAE,OAAAC,EAAQ,SAAAC,EAAU,WAAAC,EAAY,SAAAC,GAAsCC,IAAa,CAChG,KAAM,CAACC,EAASC,CAAU,EAAIC,EAAAA,SAAS,EAAI,EAErC,CAAE,YAAAC,CAAA,EAAgBC,EAAcC,IAC7B,CACL,YAAaA,EAAM,KAAK,SAAS,WACnC,EACD,EAGDC,EAAA,oBAAoBP,EAAK,KAChB,CACL,MAAO,CACLE,EAAW,EAAI,CACjB,EACA,MAAO,CACLA,EAAW,EAAK,CAAA,CAEpB,EACD,EAGK,MAAAM,EAAgBC,GAAgB,CACzBV,GAAA,MAAAA,EAAA,CAAE,UAAWU,GAC1B,EAGMC,EAAkBD,GAAgB,CACzBX,GAAA,MAAAA,EAAA,CAAE,UAAWW,GAC5B,EACM,CAAE,MAAAE,EAAQ,GAAI,GAAGC,GAAUhB,EAAO,MAClCiB,EAAoCC,EACpCC,EAAOJ,EAAM,IAAI,CAACK,EAAMC,IAAU,OAClC,GAAA,CAACpB,EAASoB,CAAK,EACV,MAAA,CACL,MAAOD,EAAK,MACZ,IAAKA,EAAK,GACZ,EACF,MAAME,EAAOd,GAAYe,EAAAtB,EAASoB,CAAK,IAAd,YAAAE,EAAiB,EAAE,EAAE,OAAO,MAC9C,MAAA,CACL,IAAKH,EAAK,IACV,GAAGE,EACH,KAAMA,EAAK,KAAOE,EAAM,cAAcP,EAAUK,EAAK,IAAI,CAAC,EAAI,KAC9D,eAAWG,EAAW,CAAA,SAAU,CAACxB,EAASoB,CAAK,CAAC,CAAG,CAAA,CACrD,CAAA,CACD,EACD,OAAOhB,GAAWqB,EAAAA,IAACC,EAAK,CAAA,MAAO3B,EAAO,MAAQ,GAAGgB,EAAO,MAAOG,EAAM,SAAUP,EAAc,WAAYE,EAAgB,CAC3H,EACec,EAAAA,EAAAA,WAAW7B,CAAK"}