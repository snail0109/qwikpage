import{r as a,j as b}from"./index-CrRWnIjq.js";import{u as f,h as v,a2 as x}from"./Page-kYXsiZfv.js";import"./index-BFS5rlf2.js";import"./index-BTSRI9HO.js";import"./index-BCFTpXN0.js";const D=({id:h,type:E,config:t,onChange:r},c)=>{var l;const[m,u]=a.useState(!0),[n,p]=a.useState(t.props.current||0),[o,i]=a.useState([]),S=f(e=>e.page.pageData.variableData);a.useEffect(()=>{p(t.props.current)},[t.props.current]),a.useEffect(()=>{d({})},[t.api,((l=t.api)==null?void 0:l.sourceType)=="variable"?S:""]);const d=e=>{v(t.api,e).then(s=>{(s==null?void 0:s.code)===0&&(Array.isArray(s.data)?i(s.data):(console.error("[Steps]","data数据格式错误，请检查"),i([])))})};a.useImperativeHandle(c,()=>({show(){u(!0)},hide(){u(!1)},update(){d(o)},updateStep(e){p(e)}}));const y=e=>{p(e),r==null||r({current:e})};return m&&b.jsx(x,{style:t.style,...t.props,current:n,items:o,onChange:y})},I=a.forwardRef(D);export{I as default};
//# sourceMappingURL=Steps-ByEugBC9.js.map
