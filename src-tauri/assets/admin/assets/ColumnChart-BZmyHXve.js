import{r as e,j as s,S as C}from"./index-CrRWnIjq.js";import{u as x,h as v,c as S}from"./Page-kYXsiZfv.js";import"./index-BFS5rlf2.js";import"./index-BTSRI9HO.js";import"./index-BCFTpXN0.js";const b=({config:a},u)=>{var n;const[d,o]=e.useState([]),[m,p]=e.useState(!0),[c,i]=e.useState(!0),h=x(t=>t.page.pageData.variableData);e.useEffect(()=>{l({})},[a.api,((n=a.api)==null?void 0:n.sourceType)=="variable"?h:""]);const l=t=>{p(!0),v(a.api,t).then(r=>{(r==null?void 0:r.code)===0&&(Array.isArray(r.data)?o(r.data):(console.error("[ColumnChart]","data数据格式错误，请检查"),o([]))),p(!1)})};return e.useImperativeHandle(u,()=>({show(){i(!0)},hide(){i(!1)},update:t=>{l(t)}})),c&&s.jsx("div",{style:a.style,children:s.jsx(C,{spinning:m,size:"large",wrapperClassName:"spin-loading",children:s.jsx(S,{...a.props,color:a.props.seriesField?a.props.color:a.props.color[0],data:d})})})},A=e.forwardRef(b);export{A as default};
//# sourceMappingURL=ColumnChart-BZmyHXve.js.map
