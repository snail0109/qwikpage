import{e as f}from"./index-d9iZx7WN.js";const I=f((n,p)=>({projectInfo:{name:"",menuMode:"inline"},collapsed:!1,menuTree:[],buttons:[],pageMap:{},menuMap:{},setProjectInfo:({projectInfo:o,menuTree:s,buttons:r,pageMap:t,menuMap:e})=>{n({projectInfo:o,menuTree:s,buttons:r,pageMap:t,menuMap:e})},updateCollapsed:()=>{n(o=>({collapsed:!o.collapsed}))}}));function T(n,p){var s,r;return!n||!p?"":n!=="welcome"?(r=(s=Object.values(p).filter(t=>t.path&&t.path.startsWith("/")?t.path.slice(1)===n:t.path===n))==null?void 0:s[0])==null?void 0:r.pageId:n}function b(n=[]){const p=[],o={},s={},r={};return n.forEach(e=>{r[e.id]={...e},e.menuType===2&&p.push(e),(e.menuType===1||e.menuType===3)&&(e.pageId?o[e.pageId]={id:e.id,pageId:e.pageId,parentId:e.parentId,name:e.name,path:e.path}:s[e.id]={...e})}),n.forEach(e=>{var u,c;if(e.parentId&&r[e.parentId]){const a=r[e.parentId];e.menuType===1||e.menuType===3?(a.children||(a.children=[]),(u=a.children)==null||u.push(r[e.id]),a.children=a.children.sort((d,l)=>d.sortNum-l.sortNum)):(a.buttons||(a.buttons=[]),(c=a.buttons)==null||c.push(r[e.id]))}}),{menuTree:Object.values(r).filter(e=>!e.parentId).sort((e,u)=>e.sortNum-u.sortNum),buttons:p,pageMap:o,menuMap:s}}export{b as a,T as g,I as u};
