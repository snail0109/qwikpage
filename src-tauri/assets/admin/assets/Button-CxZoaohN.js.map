{"version":3,"file":"Button-CxZoaohN.js","sources":["../../../packages/materials/Functional/Button/Button.tsx"],"sourcesContent":["import React, { forwardRef, useImperativeHandle, useState } from 'react';\nimport * as icons from '@ant-design/icons';\nimport AuthButton from './AuthButton';\nimport { ComponentType } from '@materials/types';\n/*泛型只需要定义组件本身用到的属性*/\nexport interface IConfig {\n  icon: string;\n  text: string;\n}\n/**\n *\n * @param props 组件本身属性\n * @param style 组件样式\n * @returns\n */\nconst MButton = ({ id, type, config, onClick }: ComponentType<IConfig>, ref: any) => {\n  const [visible, setVisible] = useState(true);\n  const [disabled, setDisabled] = useState<boolean | undefined>();\n  const [loading, setLoading] = useState(false);\n  // 对外暴露方法\n  useImperativeHandle(ref, () => {\n    return {\n      show() {\n        setVisible(true);\n      },\n      hide() {\n        setVisible(false);\n      },\n      enable() {\n        setDisabled(true);\n      },\n      disable() {\n        setDisabled(false);\n      },\n      startLoading: () => {\n        setLoading(true);\n      },\n      hideLoading: () => {\n        setLoading(false);\n      },\n    };\n  });\n  const handleClick = () => {\n    onClick?.();\n  };\n  const iconsList: { [key: string]: any } = icons;\n  return (\n    visible && (\n      <AuthButton\n        style={config.style}\n        loading={loading}\n        disabled={disabled}\n        {...config.props}\n        icon={config.props.icon ? React.createElement(iconsList[config.props.icon]) : null}\n        onClick={handleClick}\n      >\n        {config.props.text}\n      </AuthButton>\n    )\n  );\n};\nexport default forwardRef(MButton);\n"],"names":["MButton","id","type","config","onClick","ref","visible","setVisible","useState","disabled","setDisabled","loading","setLoading","useImperativeHandle","handleClick","iconsList","icons","jsx","AuthButton","React","forwardRef"],"mappings":"4TAeA,MAAMA,EAAU,CAAC,CAAE,GAAAC,EAAI,KAAAC,EAAM,OAAAC,EAAQ,QAAAC,GAAmCC,IAAa,CACnF,KAAM,CAACC,EAASC,CAAU,EAAIC,EAAAA,SAAS,EAAI,EACrC,CAACC,EAAUC,CAAW,EAAIF,WAA8B,EACxD,CAACG,EAASC,CAAU,EAAIJ,EAAAA,SAAS,EAAK,EAE5CK,EAAA,oBAAoBR,EAAK,KAChB,CACL,MAAO,CACLE,EAAW,EAAI,CACjB,EACA,MAAO,CACLA,EAAW,EAAK,CAClB,EACA,QAAS,CACPG,EAAY,EAAI,CAClB,EACA,SAAU,CACRA,EAAY,EAAK,CACnB,EACA,aAAc,IAAM,CAClBE,EAAW,EAAI,CACjB,EACA,YAAa,IAAM,CACjBA,EAAW,EAAK,CAAA,CAEpB,EACD,EACD,MAAME,EAAc,IAAM,CACdV,GAAA,MAAAA,GACZ,EACMW,EAAoCC,EAC1C,OACEV,GACEW,EAAA,IAACC,EAAA,CACC,MAAOf,EAAO,MACd,QAAAQ,EACA,SAAAF,EACC,GAAGN,EAAO,MACX,KAAMA,EAAO,MAAM,KAAOgB,EAAM,cAAcJ,EAAUZ,EAAO,MAAM,IAAI,CAAC,EAAI,KAC9E,QAASW,EAER,WAAO,MAAM,IAAA,CAChB,CAGN,EACeM,EAAAA,EAAAA,WAAWpB,CAAO"}