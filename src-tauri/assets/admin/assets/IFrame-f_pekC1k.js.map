{"version":3,"file":"IFrame-f_pekC1k.js","sources":["../../../packages/materials/Other/IFrame/IFrame.tsx"],"sourcesContent":["import { ComponentType } from '@materials/types';\nimport { useState, useImperativeHandle, forwardRef, useMemo } from 'react';\n\n/**\n *\n * @param props 组件本身属性\n * @param style 组件样式\n * @returns\n */\nconst IFrame = ({ config }: ComponentType, ref: any) => {\n  const [visible, setVisible] = useState(true);\n  // 对外暴露方法\n  useImperativeHandle(ref, () => {\n    return {\n      show() {\n        setVisible(true);\n      },\n      hide() {\n        setVisible(false);\n      },\n    };\n  });\n  // 裁剪后，重新计算高度\n  const height = useMemo(() => {\n    // TODO: 临时兼容老版本，后续需要删除\n    const { top } = config.props.clip || { top: '0px' };\n    let height = '100%';\n    const px = (num: string) => Number(num.replace('px', ''));\n    const topPx = px(top);\n    if (topPx != 0) {\n      height = `calc(100% + ${-topPx}px)`;\n    }\n    return height;\n  }, [config.props.clip]);\n  return (\n    visible && (\n      <div style={config.style}>\n        <iframe\n          style={{ position: 'absolute', top: config.props.clip?.top || 0, left: 0, width: '100%', height, border: 'none' }}\n          {...config.props}\n        ></iframe>\n      </div>\n    )\n  );\n};\nexport default forwardRef(IFrame);\n"],"names":["IFrame","config","ref","visible","setVisible","useState","useImperativeHandle","height","useMemo","top","topPx","num","jsx","_a","forwardRef"],"mappings":"+CASA,MAAMA,EAAS,CAAC,CAAE,OAAAC,GAAyBC,IAAa,OACtD,KAAM,CAACC,EAASC,CAAU,EAAIC,EAAAA,SAAS,EAAI,EAE3CC,EAAA,oBAAoBJ,EAAK,KAChB,CACL,MAAO,CACLE,EAAW,EAAI,CACjB,EACA,MAAO,CACLA,EAAW,EAAK,CAAA,CAEpB,EACD,EAEK,MAAAG,EAASC,EAAAA,QAAQ,IAAM,CAErB,KAAA,CAAE,IAAAC,GAAQR,EAAO,MAAM,MAAQ,CAAE,IAAK,KAAM,EAClD,IAAIM,EAAS,OAEP,MAAAG,GADMC,GAAgB,OAAOA,EAAI,QAAQ,KAAM,EAAE,CAAC,GACvCF,CAAG,EACpB,OAAIC,GAAS,IACXH,EAAS,eAAe,CAACG,CAAK,OAEzBH,CACN,EAAA,CAACN,EAAO,MAAM,IAAI,CAAC,EACtB,OACEE,GACES,EAAA,IAAC,MAAI,CAAA,MAAOX,EAAO,MACjB,SAAAW,EAAA,IAAC,SAAA,CACC,MAAO,CAAE,SAAU,WAAY,MAAKC,EAAAZ,EAAO,MAAM,OAAb,YAAAY,EAAmB,MAAO,EAAG,KAAM,EAAG,MAAO,OAAQ,OAAAN,EAAQ,OAAQ,MAAO,EAC/G,GAAGN,EAAO,KAAA,CAAA,EAEf,CAGN,EACea,EAAAA,EAAAA,WAAWd,CAAM"}