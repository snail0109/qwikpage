{"version":3,"file":"layout-TO6by9UQ.js","sources":["../../../packages/admin/src/components/Logo/Logo.tsx","../../../packages/admin/src/components/BreadList/BreadList.tsx","../../../packages/admin/src/components/Menu/Menu.tsx","../../../packages/admin/src/components/Header/Header.tsx","../../../packages/admin/src/components/Tab.tsx","../../../packages/admin/src/utils/storage.ts","../../../packages/admin/src/layout/layout.tsx"],"sourcesContent":["import { useProjectStore } from '@/stores/projectStore';\nimport styles from './index.module.less';\nimport { useNavigate, useParams } from 'react-router-dom';\nimport { useEffect, useState } from 'react';\nfunction Logo() {\n  const { collapsed, projectInfo } = useProjectStore();\n  const navigate = useNavigate();\n  const { projectId } = useParams();\n  const [style, setStyle] = useState({});\n  const [nameStyle, setNameStyle] = useState({});\n  useEffect(() => {\n    // 左右布局模式下，Logo背景需要跟着主题色变化\n    if (projectInfo.menuThemeColor === 'dark') {\n      setStyle({ backgroundColor: '#001529', color: '#fff', height: 64, padding: '10px 20px' });\n    } else {\n      setStyle({ backgroundColor: '#fff', color: '#000', height: 64, padding: '10px 20px' });\n    }\n    /**\n     * 1. 名称是中文，7个字，正常显示。\n     * 2. 9个字以内，调整字号，以适配显示9个字。\n     * 3. 9个字以上，超出显示省略号。\n     */\n    if (/^[\\u4e00-\\u9fa5]+$/.test(projectInfo.name)) {\n      setNameStyle({\n        fontSize: projectInfo.name.length > 9 ? 14 : 16,\n      });\n    }\n  }, [projectInfo.layout, projectInfo.menuThemeColor]);\n  return (\n    <div\n      className={styles.logo}\n      onClick={() => {\n        navigate(`/project/${projectId}/welcome`);\n      }}\n      style={style}\n    >\n      <img src={projectInfo.logo || '/imgs/mars-logo.png'} />\n      {!collapsed && (\n        <span className={styles.logoName} style={nameStyle}>\n          {projectInfo.name}\n        </span>\n      )}\n    </div>\n  );\n}\nexport default Logo;\n","import { Breadcrumb } from 'antd';\nimport { useEffect, useState } from 'react';\nimport { useLocation, useParams } from 'react-router-dom';\nimport { useShallow } from 'zustand/react/shallow';\nimport { useProjectStore } from '@/stores/projectStore';\nimport { getPageId } from '@/utils/util';\n\nexport default function BreadList() {\n  const { projectId } = useParams();\n  const [menuPath, setMenuPath] = useState([] as any[]);\n  const { pathname } = useLocation();\n  const { pageMap, menuMap } = useProjectStore(useShallow((state) => ({ pageMap: state.pageMap, menuMap: state.menuMap })));\n  // 生成面包屑\n  useEffect(() => {\n    if (!projectId) return;\n    const pageId = pathname.split(projectId)[1].slice(1);\n    const id = getPageId(pageId, pageMap);\n    if (!id) return;\n    const menuItem = pageMap[id];\n    if (pathname.endsWith('/welcome')) {\n      setMenuPath([{ title: '欢迎页' }]);\n      return;\n    }\n    if (!menuItem) return;\n    const breadList = [] as any[];\n    let cur = menuItem;\n    while (cur) {\n      breadList.unshift({\n        title: cur.name,\n      });\n      cur = menuMap[cur.parentId];\n    }\n    setMenuPath(breadList);\n  }, [pathname, menuMap]);\n  return <Breadcrumb className=\"layout-bread-crumb\" items={menuPath}></Breadcrumb>;\n}\n","import React, { useEffect, useState } from 'react';\nimport { useLocation, useNavigate, useParams } from 'react-router-dom';\nimport { ConfigProvider, Menu } from 'antd';\nimport type { MenuProps, MenuTheme } from 'antd';\nimport * as Icons from '@ant-design/icons';\nimport { useProjectStore } from '@/stores/projectStore';\nimport { IMenuItem } from '@/types';\n\ntype MenuItem = Required<MenuProps>['items'][number];\n\nconst MenuComponent: React.FC = () => {\n  const [menuList, setMenuList] = useState<MenuItem[]>([]);\n  const [selectedKeys, setSelectedKeys] = useState<string[]>([]);\n  const navigate = useNavigate();\n  const { pathname } = useLocation();\n  const { projectId } = useParams();\n  const { collapsed, menuTree, projectInfo } = useProjectStore();\n\n  useEffect(() => {\n    const treeMenu = getTreeMenu(menuTree);\n    setMenuList(treeMenu);\n  }, [menuTree]);\n\n  useEffect(() => {\n    setSelectedKeys([pathname]);\n  }, [pathname]);\n\n  // 递归生成菜单\n  const getTreeMenu = (menuList: IMenuItem[], treeList: MenuItem[] = []) => {\n    menuList.forEach((item) => {\n      if (item.menuType === 1 && item.status === 1) {\n        const iconsList: { [key: string]: any } = Icons;\n        if (item.buttons?.length || !item.children) {\n          // 没绑定页面的 pageId 是 \"0\"\n          const path = `/project/${projectId}/${item.path && item.path.startsWith('/') ? item.path.slice(1) : item.path || item.pageId}`;\n          return treeList.push(getMenuItem(item.name, path, iconsList[item.icon] && React.createElement(iconsList[item.icon])));\n        }\n        const path = `${projectId}-${item.id}`;\n        treeList.push(\n          getMenuItem(item.name, path, iconsList[item.icon] && React.createElement(iconsList[item.icon]), getTreeMenu(item.children || [])),\n        );\n      }\n    });\n    return treeList;\n  };\n  function getMenuItem(label: React.ReactNode, key: React.Key, icon?: React.ReactNode, children?: MenuItem[], type?: 'group'): MenuItem {\n    if (children?.length === 0) {\n      children = undefined;\n    }\n    return {\n      key,\n      icon,\n      children,\n      label,\n      type,\n    } as MenuItem;\n  }\n\n  // 菜单点击事件\n  const onClick: MenuProps['onClick'] = (e: { key: string }) => {\n    const key = e.key;\n    if (pathname === key) return;\n    if (e.key.split('/').slice(-1)[0] === \"0\") {\n      navigate('notPublish');\n    } else {\n      navigate(key);\n    }\n  };\n\n  return (\n    <div\n      style={\n        projectInfo.menuMode === 'horizontal'\n          ? { width: 'calc(100vw - 458px)' }\n          : {\n              width: collapsed ? 79 : 255,\n              background: projectInfo.menuThemeColor === 'light' ? '#fff' : '#001529',\n              borderRight: projectInfo.layout === 2 ? '1px solid #e8e9eb' : 'none',\n              overflowX: 'hidden',\n            }\n      }\n    >\n      <ConfigProvider\n        theme={{\n          components: {\n            Menu: {\n              darkItemColor: '#fff',\n              darkItemHoverColor: projectInfo.systemThemeColor,\n              iconSize: 16,\n            },\n          },\n        }}\n      >\n        <Menu\n          onClick={onClick}\n          theme={projectInfo.menuThemeColor as MenuTheme}\n          selectedKeys={selectedKeys}\n          style={projectInfo.menuMode === 'horizontal' ? {} : { height: 'calc(100vh - 64px)', border: 'none', overflowY: 'auto' }}\n          mode={projectInfo.menuMode}\n          inlineCollapsed={projectInfo.menuMode === 'horizontal' ? undefined : collapsed}\n          items={menuList}\n        />\n      </ConfigProvider>\n    </div>\n  );\n};\n\nexport default MenuComponent;\n","import React, { memo } from 'react';\nimport { Flex } from 'antd';\nimport { MenuFoldOutlined, MenuUnfoldOutlined } from '@ant-design/icons';\nimport { useProjectStore } from '@/stores/projectStore';\nimport Logo from '../Logo/Logo';\nimport BreadList from '../BreadList/BreadList';\nimport Menu from '../Menu/Menu';\nimport styles from './index.module.less';\n\n/**\n * 编辑器顶部组件\n */\nconst Header = memo(() => {\n  const { projectInfo, collapsed, updateCollapsed } = useProjectStore();\n\n  // 控制菜单图标关闭和展开\n  const toggleCollapsed = () => {\n    updateCollapsed();\n  };\n\n  const isLight = projectInfo.menuThemeColor === 'light' || projectInfo.layout === 1;\n  const style: React.CSSProperties = {\n    backgroundColor: isLight ? '#fff' : '#001529',\n    color: projectInfo.menuThemeColor === 'light' ? '#000' : '#fff',\n  };\n  return (\n    <div className={styles.header} style={style}>\n      {/* 加载面包屑，左右布局时，面包屑在顶部 */}\n      {projectInfo.layout === 1 ? (\n        <Flex align=\"center\">\n          <div onClick={toggleCollapsed} style={{ cursor: 'pointer' }}>\n            {collapsed ? (\n              <MenuUnfoldOutlined style={{ color: isLight ? '#000' : '#fff' }} />\n            ) : (\n              <MenuFoldOutlined style={{ color: isLight ? '#000' : '#fff' }} />\n            )}\n          </div>\n          {projectInfo.breadcrumb && <BreadList />}\n        </Flex>\n      ) : null}\n\n      {projectInfo.layout === 2 ? (\n        <Flex align=\"center\">\n          <Logo />\n          <Menu />\n        </Flex>\n      ) : null}\n    </div>\n  );\n});\n\nexport default Header;\n","import { useEffect, useState } from 'react';\nimport { useLocation, useParams, useNavigate } from 'react-router-dom';\nimport { useShallow } from 'zustand/react/shallow';\nimport { Tabs } from 'antd';\nimport { useProjectStore } from '@/stores/projectStore';\nimport { getPageId } from '@/utils/util';\ninterface TabsItem {\n  key: string;\n  label: string;\n  closable: boolean;\n}\nfunction Tab() {\n  const navigate = useNavigate();\n  const [tabsList, setTabsList] = useState<TabsItem[]>([\n    {\n      label: '欢迎页',\n      key: 'welcome',\n      closable: false,\n    },\n  ]);\n  const [activeKey, setActiveKey] = useState('');\n  const { projectId } = useParams();\n  const { pathname } = useLocation();\n  const pageMap = useProjectStore(useShallow((state) => state.pageMap));\n\n  useEffect(() => {\n    addTabs();\n  }, [pathname, pageMap]);\n  // 创建页签\n  const addTabs = () => {\n    if (!projectId) return;\n    const pageId = pathname.split(projectId)[1].slice(1);\n    const id = getPageId(pageId, pageMap);\n    const menuItem = pageMap[id];\n    if (!menuItem) return;\n    if (!tabsList.find((item) => item.key.includes(pathname))) {\n      tabsList.push({\n        key: pathname + location.search,\n        label: menuItem.name,\n        closable: true,\n      });\n    }\n    setTabsList([...tabsList]);\n    setActiveKey(pathname + location.search);\n  };\n  // 删除页签\n  const remove = (path: string) => {\n    if (pathname === path) {\n      tabsList.forEach((item, index: number) => {\n        if (item.key != pathname) return;\n        const nextTab = tabsList[index + 1] || tabsList[index - 1];\n        if (!nextTab) return;\n        navigate(nextTab.key);\n      });\n    }\n    setTabsList(tabsList.filter((item) => item.key != path));\n  };\n\n  const onEdit = (targetKey: React.MouseEvent | React.KeyboardEvent | string) => {\n    remove(targetKey as string);\n  };\n\n  // 切换页签\n  const onChange = (tabKey: string) => {\n    setActiveKey(tabKey);\n    if (tabKey === 'welcome') return navigate('welcome');\n    navigate(tabKey);\n  };\n  return (\n    <Tabs\n      type=\"editable-card\"\n      hideAdd\n      activeKey={activeKey}\n      items={tabsList}\n      onChange={onChange}\n      onEdit={onEdit}\n      tabBarStyle={{ marginBottom: 0, backgroundColor: '#fff', paddingTop: 10 }}\n    />\n  );\n}\nexport default Tab;\n","/**\n * localStorage模块封装\n */\n\nexport default {\n  /**\n   * storage存储\n   * @param key {string} 参数名称\n   * @param value {any} 写入值\n   */\n  set(key: string, value: any) {\n    localStorage.setItem(key, JSON.stringify(value));\n  },\n  /**\n   * storage读取\n   * @param key {string} 参数名称\n   * @returns storage值\n   */\n  get(key: string) {\n    const value = localStorage.getItem(key);\n    if (!value) return '';\n    try {\n      return JSON.parse(value);\n    } catch (error) {\n      return '';\n    }\n  },\n  /**\n   * 删除localStorage值\n   * @param key {string} 参数名称\n   */\n  remove(key: string) {\n    localStorage.removeItem(key);\n  },\n  /**\n   * 清空localStorage值\n   */\n  clear() {\n    localStorage.clear();\n  },\n};\n","import { useEffect, useMemo } from 'react';\nimport { Outlet, useParams, useNavigate, useLocation } from 'react-router-dom';\nimport { ConfigProvider, Layout } from 'antd';\nimport Header from '../components/Header/Header';\nimport Menu from '../components/Menu/Menu';\nimport { useProjectStore } from '@/stores/projectStore';\nimport { getProjectDetail, getProjectMenu } from '@/api/index';\nimport Tab from '../components/Tab';\nimport Logo from '@/components/Logo/Logo';\nimport BreadList from '@/components/BreadList/BreadList';\nimport { arrayToTree } from '@/utils/util';\nimport storage from '@/utils/storage';\nimport locale from 'antd/locale/zh_CN';\nimport 'dayjs/locale/zh-cn';\nimport './layout.less';\n\nconst AdminLayout = () => {\n  const { collapsed, setProjectInfo, projectInfo } = useProjectStore((state) => {\n    return {\n      collapsed: state.collapsed,\n      setProjectInfo: state.setProjectInfo,\n      projectInfo: state.projectInfo,\n    };\n  });\n  const navigate = useNavigate();\n  const { projectId } = useParams();\n  const { pathname } = useLocation();\n\n  // 获取项目信息\n  useEffect(() => {\n    // 判断项目ID是否合法\n    // if (projectId && isNaN(+projectId)) return navigate('/404?type=project');\n    const fetchProjectDetail = async () => {\n      if (projectId) {\n        const detail = await getProjectDetail(projectId).catch(() => {\n          return navigate('/403?type=project');\n        });\n        // 如果项目不存在，跳转到404\n        if (!detail.id) {\n          return navigate('/404?type=project');\n        }\n        const menus = await getProjectMenu(projectId).catch(() => {\n          return navigate('/403?type=project');\n        });\n        if (!menus) return;\n        // 如果没有页面路径，跳转到欢迎页\n        if (!/project\\/\\d+\\/\\w+/.test(pathname)) navigate(`/project/${projectId}/welcome`);\n        const { menuTree, buttons, pageMap, menuMap } = arrayToTree(menus || []);\n        storage.set('buttons', buttons);\n        storage.set('pageMap', pageMap);\n        setProjectInfo({\n          projectInfo: detail,\n          menuTree,\n          buttons,\n          pageMap,\n          menuMap,\n        });\n      }\n    };\n    fetchProjectDetail();\n  }, [projectId]);\n\n  // 计算渲染区容器实际高度\n  const calcHeight = useMemo(() => {\n    return projectInfo.tag ? `calc(100vh - 114px)` : `calc(100vh - 64px)`;\n  }, [projectInfo.tag]);\n\n  // 定义Footer\n  const Footer = () => (\n    <Layout.Footer>\n      <div className=\"footnote\">\n        <span>Copyright © 2024 Marsview. All Rights Reserved. </span>\n      </div>\n    </Layout.Footer>\n  );\n\n  return (\n    <ConfigProvider\n      locale={locale}\n      theme={{\n        token: {\n          colorPrimary: projectInfo.systemThemeColor || '#1677ff',\n        },\n        hashed: false,\n      }}\n    >\n      <Layout>\n        {/* 左右布局 */}\n        {projectInfo.layout === 1 && (\n          <Layout style={{ flexDirection: 'row' }}>\n            {/* 左侧Sider渲染 */}\n            <div style={{ width: collapsed ? 80 : 256, borderRight: '1px solid #e8e9eb' }}>\n              <Logo />\n              <Menu />\n            </div>\n            {/* 右侧内容渲染 */}\n            <div style={{ width: collapsed ? 'calc(100vw - 80px)' : 'calc(100vw - 256px)' }}>\n              <Header />\n              {/* 加载页签 */}\n              {projectInfo.tag && <Tab />}\n              {/* 加载内容 */}\n              <div style={{ height: calcHeight, overflow: 'auto' }}>\n                <Outlet></Outlet>\n                {projectInfo.footer === 1 && <Footer />}\n              </div>\n            </div>\n          </Layout>\n        )}\n        {/* 上下布局 */}\n        {projectInfo.layout === 2 && (\n          <>\n            <Header />\n            {/* 加载页签 */}\n            {projectInfo.tag ? <Tab /> : null}\n            <Layout style={{ padding: 20, backgroundColor: '#f3f5f9', height: calcHeight, overflow: 'auto' }}>\n              {/* 加载面包屑 */}\n              {projectInfo.breadcrumb && <BreadList />}\n              <Outlet></Outlet>\n              {projectInfo.footer === 1 && <Footer />}\n            </Layout>\n          </>\n        )}\n      </Layout>\n    </ConfigProvider>\n  );\n};\n\nexport default AdminLayout;\n"],"names":["Logo","collapsed","projectInfo","useProjectStore","navigate","useNavigate","projectId","useParams","style","setStyle","useState","nameStyle","setNameStyle","useEffect","jsxs","styles","jsx","BreadList","menuPath","setMenuPath","pathname","useLocation","pageMap","menuMap","useShallow","state","pageId","id","getPageId","menuItem","breadList","cur","Breadcrumb","MenuComponent","menuList","setMenuList","selectedKeys","setSelectedKeys","menuTree","treeMenu","getTreeMenu","treeList","item","iconsList","Icons","_a","path","getMenuItem","React","label","key","icon","children","type","onClick","e","ConfigProvider","Menu","Header","memo","updateCollapsed","toggleCollapsed","isLight","Flex","MenuUnfoldOutlined","MenuFoldOutlined","Tab","tabsList","setTabsList","activeKey","setActiveKey","addTabs","remove","index","nextTab","onEdit","targetKey","onChange","tabKey","Tabs","storage","value","AdminLayout","setProjectInfo","detail","getProjectDetail","menus","getProjectMenu","buttons","arrayToTree","calcHeight","useMemo","Footer","Layout","locale","Outlet","Fragment"],"mappings":"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"}