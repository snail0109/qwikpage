import{r as s,j as c}from"./index-C0qVWane.js";import{i as F,d as I,F as R,W as k}from"./Page-D5iqHLgS.js";import{useFormContext as y}from"./context-dW7PTdPs.js";import"./index-DPKgr_Rt.js";import"./index-i6Qw7kf9.js";import"./index-DfNzS1Q2.js";const P=({type:b,config:e,onChange:p},W)=>{const{initValues:x}=y(),[j,f]=s.useState(!0),[v,i]=s.useState(e.props.formWrap.disabled);s.useEffect(()=>{var t;const a=(t=e.props.formItem)==null?void 0:t.name,r=e.props.defaultValue;if(a&&F(r)){const m=e.props.formWrap.format||"HH:mm:ss",o=r.split(",").map(l=>I(l,m));x(b,a,o)}},[]),s.useEffect(()=>{i(e.props.formWrap.disabled)},[e.props.formWrap.disabled]),s.useImperativeHandle(W,()=>({show(){f(!0)},hide(){f(!1)},enable(){i(!1)},disable(){i(!0)}}));const E=a=>{const r={},{startField:t,endField:m,formItem:{name:o},formWrap:{format:l}}=e.props,[n,u]=a.map(d=>d==null?void 0:d.format(l));t&&m?(r[t]=n,r[m]=u,delete r[o]):r[o]=[n,u],p==null||p(r)};return j&&c.jsx(R.Item,{...e.props.formItem,children:c.jsx(k.RangePicker,{...e.props.formWrap,disabled:v,variant:e.props.formWrap.variant||void 0,style:e.style,onChange:E})})},D=s.forwardRef(P);export{D as default};
