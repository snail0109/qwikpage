import{r as s,j as l}from"./index-Ba8_Z7I5.js";import{useFormContext as I}from"./context-CZSQjkXQ.js";import{F as j,v}from"./Page-zRx-fbuc.js";import"./index-d9iZx7WN.js";import"./index-DzTVI9Lo.js";import"./index-C2BeiomC.js";const E=({type:d,config:r,onChange:t,onChangeComplete:o},u)=>{const{initValues:i}=I(),[f,a]=s.useState(),[b,p]=s.useState(!0);s.useEffect(()=>{var m;const e=(m=r.props.formItem)==null?void 0:m.name,n=r.props.defaultValue;i(d,e,n)},[r.props.defaultValue]),s.useEffect(()=>{typeof r.props.formWrap.disabled=="boolean"&&a(r.props.formWrap.disabled)},[r.props.formWrap.disabled]);const x=e=>{t==null||t({[r.props.formItem.name]:e})},c=e=>{o==null||o({[r.props.formItem.name]:e})};return s.useImperativeHandle(u,()=>({show(){p(!0)},hide(){p(!1)},enable(){a(!1)},disable(){a(!0)}})),b&&l.jsx(j.Item,{...r.props.formItem,children:l.jsx(v,{...r.props.formWrap,disabled:f,style:r.style,onChange:e=>x(e.toCssString()),onChangeComplete:e=>c(e.toCssString())})})},P=s.forwardRef(E);export{P as default};
