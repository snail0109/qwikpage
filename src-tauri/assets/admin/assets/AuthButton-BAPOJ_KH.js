import{r as m,u as p,c as k,j as w,B as A}from"./index-CrRWnIjq.js";import{s as l,n as M,r as B}from"./Page-kYXsiZfv.js";import"./index-BFS5rlf2.js";import"./index-BTSRI9HO.js";import"./index-BCFTpXN0.js";const f=t=>w.jsx(A,{...t,onClick:t.onClick,children:t.children});function P({authCode:t,authScript:s,...o}){const[i,d]=m.useState(""),[u,g]=m.useState([]),{projectId:e,id:a}=p(),{pathname:r}=k();m.useEffect(()=>{if(!e||!t)return;const n=l.get("buttons")||[],b=l.get("pageMap");g(n);const j=r.split(e)[1].slice(1),x=M(j,b),I=e+"_"+x+"_"+t;d(I)},[r,t]);const c=n=>w.jsx(A,{...n,onClick:n.onClick,children:n.children});return!t||a&&!window.microApp||e&&t&&u.find(n=>n.code===i)||s&&a&&B(s.value,{authCode:t})?c(o):null}const F=({authCode:t,authScript:s,...o})=>{var r;const{projectId:i,pageId:d,id:u}=p(),g=l.get("buttons")||[],e=l.get("pageMap"),a=i+"_"+((r=e[Number(d)])==null?void 0:r.id)+"_"+t;return!t||u&&!window.microApp||i&&t&&g.find(c=>c.code===a)||s&&u&&B(s.value,{authCode:t})?f(o):null};export{P as default,F as genAuthButton};
//# sourceMappingURL=AuthButton-BAPOJ_KH.js.map
